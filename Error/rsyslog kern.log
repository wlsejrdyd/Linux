1. ISSUE : 언제부턴가 /etc/rsyslog.conf 그리고 /etc/logrotate.d/syslog 파일에 "kern.* /var/log/kern.log" 설정이 자동으로 두줄씩 추가가 됨.
2. 처음 발견했을때는 syslog 설정하기위해서 파일을 열어봤는데 대여섯줄 추가가되어있길래 내가 졸린상태로 뭔가 잘못 추가한줄알았는데 다음날에보니 두줄이 또 추가가 되어있음.
3. stat 명령어를 이용해 파일이 수정 된 시간을 알아내고 messages 로그에 해당 시간대 로그를 추적하기 시작했음.
4. messsages 에는 rsyslog 가 두번. 재시작 된 로그 말고는 다른 로그는 없었고, 보지도 못하는 journalctl 을 이용해 해당 시간대로 검색해보니... 역시 재시작했다는 내용뿐임. (journalctl -o verbose)
5. 몇일간 찾다가 포기하고 잊고있다가 다시 한번 처음부터 다시 시작... 결과는 위와 같았고 별기대없이 /var/log 경로 밑의 모든 로그파일에 grep을 거니 ahnlab...?? 관련된 라이브러리 로그들이 출력되기 시작함...
얼씨구나.. rsyslog restart 도 적혀있겠다.
6. 통합 syslog 를 생성해서 설정을 해두었기에 "signal 15" 로 grep 해서 검색해보니 다행히 처음 rsyslog 를 재시작했을때부터 기록이 남아있는거같았다.
추측이긴하지만 충분히 가능성있는 이야기일 수 있는 이유는 cmd.log 를 남기게 설정해놨기때문에 v3 설치 일자와 비교해볼 수 있었음.
7. v3 설치 날짜와 rsyslog 가 저녁에 두번씩. 자동 재시작 되는 일자가 일치하는것을 서버 4대를 통해 신빙성을 높이고. 해당 자료를 또 직접 수집하여 v3로 케이스 오픈 요청함.
8. 하. 보안이 중요하긴한데. 왜. 관리할 자신없다고 얘기한 기술들에 관련해서 요청한 사람은 손을 뗄려고 하는지 너무 무책임해보여서 이해가 안간다.
